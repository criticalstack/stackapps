<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Technical Overview and Glossery of Terms - the Critical Stack StackApps Book</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../stackapps-guide/overview.html"><strong aria-hidden="true">1.</strong> Stackapps Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../stackapps-guide/quickstart.html"><strong aria-hidden="true">1.1.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="../stackapps-guide/technicaloverview.html" class="active"><strong aria-hidden="true">1.2.</strong> Technical Overview and Glossery of Terms</a></li><li class="chapter-item expanded "><a href="../stackapps-guide/cluster-requirements.html"><strong aria-hidden="true">1.3.</strong> Cluster Requirements</a></li><li class="chapter-item expanded "><a href="../stackapps-guide/installation.html"><strong aria-hidden="true">1.4.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../stackapps-guide/configuration.html"><strong aria-hidden="true">1.5.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="../stackapps-guide/stackapps.html"><strong aria-hidden="true">1.6.</strong> StackApp</a></li><li class="chapter-item expanded "><a href="../stackapps-guide/stackvalues.html"><strong aria-hidden="true">1.7.</strong> StackValues</a></li><li class="chapter-item expanded "><a href="../stackapps-guide/stackrelease.html"><strong aria-hidden="true">1.8.</strong> StackRelease</a></li><li class="chapter-item expanded "><a href="../stackapps-guide/apprevision.html"><strong aria-hidden="true">1.9.</strong> AppRevision</a></li></ol></li><li class="chapter-item expanded "><a href="../resources/resources.html"><strong aria-hidden="true">2.</strong> Custom Resources</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../resources/stackappsresource.html"><strong aria-hidden="true">2.1.</strong> StackApp</a></li><li class="chapter-item expanded "><a href="../resources/stackreleaseresource.html"><strong aria-hidden="true">2.2.</strong> StackRelease</a></li><li class="chapter-item expanded "><a href="../resources/stackvaluesecret.html"><strong aria-hidden="true">2.3.</strong> StackValue</a></li><li class="chapter-item expanded "><a href="../resources/apprevisionresource.html"><strong aria-hidden="true">2.4.</strong> AppRevision</a></li></ol></li><li class="chapter-item expanded "><a href="../getting-started.html"><strong aria-hidden="true">3.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../faq.html"><strong aria-hidden="true">4.</strong> FAQ</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">the Critical Stack StackApps Book</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#stackapps-guide" id="stackapps-guide">StackApps Guide</a></h1>
<p>A <code>StackApp</code> is a resource in the Critical Stack cluster which repesents
a kubernetes <em>application</em> at a particular version.</p>
<p>The <code>StackApp</code> contains:</p>
<ul>
<li>Metadata about the <em>application</em></li>
<li>A reference to the <em>manifests</em> used to deploy all associated resources</li>
<li>Signature details for the <em>manifests</em></li>
</ul>
<p>The Critical Stack cluster contains infrastructure that is aware of <code>StackApps</code>.
When the <code>StackApp</code> resource is created or modified, the underlying
<em>application</em> resources are updated accordingly (assuming that the cluster's
configured deployment guarantees are met which may include signing,
compatibility checks, etc).</p>
<p>A <code>StackApp</code> may be created from raw kubernetes <em>manifests</em> that already exist
(or that are generated from existing source material), or it may be created by
encoding selected objects running within a kubernetes cluster namespace (see
<a href="./tech-details.html#packaging">packaging</a>). The former method (existing
<em>manifests</em>) is intended to serve as a bridge for developers with existing
kubernetes <em>applications</em>, or those who would like to create their applications
using third-party tools. The latter (running resources) is tailored toward
developers creating their <em>applications</em> within the Critical Stack &quot;ecosystem&quot;
to begin with - e.g. with the aid of CS UI and accompanying tools. The
Critical Stack API and UI would provide functionality for selecting running resources
for packaging and export into a <code>StackApp</code>.</p>
<p>Once a <code>StackApp</code> has been deployed (or created from components running in the
cluster), the CS UI can provide aggregated status information (health checks,
metrics data, etc) for <code>StackApps</code> in each namespace. Because this system is
fully integrated with the kubernetes API, this information is easily available
to other tools such as <code>kubectl</code> without the need for the CS UI to act as an
intermediary.</p>
<p>Resources that belong to a <code>StackApp</code> are protected (using kubernetes RBAC
permissions) by default. Similarly, all <em>manifests</em> currently or previously
referenced by a <code>StackApp</code> are immutable.</p>
<p><img src="../img/stackapps-overview.png" alt="Overview diagram" /></p>
<h2><a class="header" href="#glossary" id="glossary">Glossary</a></h2>
<p>See below for brief descriptions of key terms. Definitions are further expanded
by the behavior outlined <a href="#overview">below</a>.</p>
<ul>
<li><strong>Application</strong>: for the purposes of this design, an <em>application</em> refers to
a &quot;business application&quot;, i.e. the primary workload of a Critical Stack
cluster. It may or may not be completely self-contained, and it is likely 
comprised of several logical components.</li>
<li><strong>StackApp</strong>: a &quot;Critical Stack Application&quot; (<em>StackApp</em>) encapsulates an
<em>application</em> logically. It is responsible for grouping together kubernetes
resources and managing their lifecycle - creation, upgrade, rollback,
deletion.</li>
<li><strong>StackValue</strong>: the representation of a secret or an environment specific
configuration item within the <em>StackApp</em></li>
<li><strong>Manifests</strong>: actual kubernetes-native encoding of application resources. In
most cases the <em>manifests</em> would be generated from running resources in
a cluster environment, though the initial <em>manifests</em> may come from an existing
build artifact.</li>
<li><strong>Signer</strong>: a <em>signer</em> is an identity that attests to the validity of
<em>manifests</em>. The core purpose of signing is to designate readiness for
deployment, though a developer or cluster administrator may wish to further
differentiate intents; <em>manifests</em> may be signed multiple times and each may
indicate something different (i.e. signatures by a developer, a QA tester,
a security review, and so on).</li>
</ul>
<h2><a class="header" href="#stackapps-custom-resources" id="stackapps-custom-resources">StackApps Custom Resources</a></h2>
<p>Resources in the StackApps family are built into the API Group 
features.criticalstack.com. </p>
<ul>
<li><strong>StackAppsConfig</strong> <em>Cluster Scoped</em>: The StackAppsConfig should be accessible only by a 
cluster administrator to maintain separation of dutes and ensure the basic
configuration goes through an additional verification layer. The StackAppsConfig containts information
used buy all of the controllers in the StackApps family.</li>
<li><strong>StackApp</strong> <em>Cluster Scoped</em>: The stackApp is the owner of all things StackApps related. It
contains information necessary build the application as well as related metadata
necessary for verification before installation. Any interaction
with an application with the exception of administrator configuration should 
happen at this level</li>
<li><strong>StackRelease</strong> <em>Namespaced</em>: The StackRelease contains information pertaining to the 
current state of the application deployment, changes here precipitate any routing change 
or change to an underlying application. Only the StackApp controller should 
be allowed to create or modify a StackRelease; however StackReleases contain
valuable status and troubleshooting information and should be use accordingly.</li>
<li><strong>AppRevision</strong> <em>Namespaced</em>: The AppRevision contains the base information needed to 
install and manage the application. Much like the StackRelease it should only
be created or updated but one of the StackApps controllers, Although it does 
contain valuable status information that should be used for monitoring and 
troubleshooting. </li>
<li><strong>VerificationKey</strong> <em>Cluster Scoped?</em>: The  VerificationKey is simply a crd designed to allow 
Rbac management of the public side of the RSA signing key</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../stackapps-guide/quickstart.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../stackapps-guide/cluster-requirements.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../stackapps-guide/quickstart.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../stackapps-guide/cluster-requirements.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
